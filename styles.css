/* OPX • Hermes UI – estilos básicos */

#opx-root { position: fixed; right: 24px; top: 72px; z-index: 2147483000; }
.opx-card {
  background: #0f141a;
  border: 1px solid #233040;
  border-radius: 12px;
  color: #e6edf3;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue', Arial;
  min-width: 320px;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
}
.opx-header{
  display:flex; align-items:center; gap:8px;
  padding:10px 12px; border-bottom:1px solid #233040;
  background:#0b1117; border-radius:12px 12px 0 0; cursor:move;
}
.opx-title{ margin:0; font-weight:700; font-size:14px; color:#e6edf3; }
.pill{
  margin-left:0; font-size:11px; background:#15212e; color:#b9d3ff;
  padding:3px 8px; border-radius:999px; border:1px solid #233040;
}
.pill-preset{ background:#12231f; color:#a6f3c5; border-color:#1f3e31; }

.opx-btn{
  background:#0f141a; color:#e6edf3; border:1px solid #233040;
  border-radius:8px; padding:6px 10px; cursor:pointer; font-size:12px;
}
.opx-btn.icon{ padding:2px 8px; font-size:14px; }
.opx-btn.sm{ padding:5px 8px; font-size:12px; }
.opx-btn.warn{ background:#2a1a1a; border-color:#5d2a2a; }

.opx-body{ padding:12px; }
.opx-scoreboard{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
  padding-bottom:10px;
}
.opx-scoreboard .score-boxes{
  display:flex;
  gap:12px;
  align-items:flex-end;
  justify-content:center;
}
.opx-scoreboard .score-box{
  background:#101826;
  border:1px solid #233040;
  border-radius:10px;
  padding:8px 14px;
  min-width:88px;
  text-align:center;
}
.opx-scoreboard .score-label{
  display:block;
  font-size:11px;
  letter-spacing:0.04em;
  text-transform:uppercase;
  color:#94a3b8;
}
.opx-scoreboard .score-value{
  display:block;
  font-size:20px;
  font-weight:600;
  color:#e6edf3;
}
.opx-scoreboard .score-box.win .score-value{ color:#4ade80; }
.opx-scoreboard .score-box.loss .score-value{ color:#f87171; }
.opx-scoreboard .score-box.tie .score-value{ color:#fbbf24; }
.opx-scoreboard .opx-btn{ align-self:flex-end; }
.row{ display:flex; justify-content:space-between; padding:4px 0; }
.opx-log{
  height:220px; overflow:auto; margin-top:8px;
  background:#101826; border:1px solid #334155; border-radius:10px;
  padding:10px; font:12px/1.35 ui-monospace,SFMono-Regular,Menlo,Consolas,'Liberation Mono',monospace; color:#e2e8f0;
}
.opx-foot{
  display:flex; gap:8px; padding:10px 12px; flex-wrap:wrap;
  border-top:1px solid #233040; background:#0b1117; border-radius:0 0 12px 12px;
}

/* modal */
.opx-modal{ display:none; position:fixed; inset:0; background:rgba(0,0,0,.55); z-index:2147483641; align-items:flex-start; justify-content:center; }
.opx-modal .box{
  margin:24px; max-width:1100px; width:92%;
  background:#0e1319; border:1px solid #2a3644; border-radius:12px; overflow:hidden;
}
.opx-modal.opx-modal-sm{ align-items:center; }
.opx-modal .box.box-narrow{ max-width:360px; width:min(360px,92%); }
.opx-modal .box.box-wide{ max-width:1280px; }
.opx-modal .top{
  display:flex; align-items:center; gap:8px; padding:10px; border-bottom:1px solid #20262c; background:#0f1317;
}
.opx-modal .top.top-dark{ background:#0b1117; border-bottom-color:#233040; }
.opx-modal .top h3{ margin:0; color:#e6edf3; }
.opx-modal .top .gap{ margin-left:auto; }
.opx-modal .top input{
  flex:1; background:#0c0f13; border:1px solid #20262c; color:#e5e7eb; border-radius:8px; padding:8px;
}
.opx-modal pre{ margin:0; padding:14px; max-height:70vh; overflow:auto; color:#e5e7eb; }
.opx-modal .close{ background:#1f2933; border:1px solid #2a2f35; color:#e5e7eb; border-radius:8px; padding:8px 10px; }
.opx-modal .close.warn{ background:#2a1a1a; border-color:#5d2a2a; color:#fca5a5; }

/* config grid */
.cfg-dashboard{ padding:16px 18px 6px; display:flex; flex-direction:column; gap:18px; }
.cfg-section{ background:#101826; border:1px solid #1f2a38; border-radius:12px; padding:0; display:flex; flex-direction:column; }
.cfg-section-head{ padding:16px 18px; border-bottom:1px solid rgba(31,42,56,0.65); }
.cfg-head-btn{ width:100%; display:flex; align-items:flex-start; justify-content:space-between; gap:12px; background:transparent; border:0; padding:0; cursor:pointer; text-align:left; }
.cfg-head-btn:focus-visible{ outline:2px solid rgba(59,130,246,0.65); outline-offset:4px; border-radius:8px; }
.cfg-head-text{ display:flex; flex-direction:column; gap:4px; }
.cfg-head-text h4{ margin:0; font-size:15px; color:#e6edf3; }
.cfg-head-text p{ margin:0; font-size:12px; color:#94a3b8; }
.cfg-head-arrow{ font-size:13px; color:#94a3b8; transition:transform 0.2s ease; }
.cfg-section-body{ padding:18px; display:flex; flex-direction:column; gap:14px; }
.cfg-section.collapsed .cfg-section-body{ display:none; }
.cfg-section.collapsed .cfg-head-arrow{ transform:rotate(-90deg); }
.cfg-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:12px;
}
.cfg-grid.cols-3{ grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); }
.cfg-grid.cols-4{ grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); }
.cfg-item{ display:flex; flex-direction:column; gap:6px; color:#cbd5e1; }
.cfg-label{ display:flex; align-items:center; gap:6px; font-weight:500; }
.cfg-item input{
  background:#0c1117; border:1px solid #283445; color:#e6edf3; border-radius:8px; padding:8px;
}
.tuning-info{
  display:inline-flex; align-items:center; justify-content:center;
  width:18px; height:18px; font-size:11px; font-weight:600;
  border:1px solid #334155; border-radius:50%; color:#93c5fd;
  background:#111c2a; cursor:pointer; transition:background 0.2s ease;
}
.tuning-info:hover{ background:#1a2940; }
.cfg-item.cfg-toggle{ flex-direction:row; align-items:center; justify-content:space-between; gap:16px; position:relative; }
.cfg-item.cfg-toggle input[type="checkbox"]{ position:absolute; opacity:0; width:40px; height:22px; right:0; top:50%; transform:translateY(-50%); cursor:pointer; }
.cfg-item.cfg-toggle .cfg-toggle-ui{ width:40px; height:22px; background:#1f2a38; border-radius:999px; position:relative; box-shadow:inset 0 0 0 1px rgba(15,23,42,0.6); transition:background 0.2s ease; flex-shrink:0; }
.cfg-item.cfg-toggle .cfg-toggle-ui::after{ content:""; position:absolute; width:16px; height:16px; border-radius:50%; background:#cbd5f5; top:3px; left:3px; transition:transform 0.2s ease, background 0.2s ease; }
.cfg-item.cfg-toggle input[type="checkbox"]:checked + .cfg-toggle-ui{ background:#1f7a4d; box-shadow:inset 0 0 0 1px rgba(15,23,42,0.35); }
.cfg-item.cfg-toggle input[type="checkbox"]:checked + .cfg-toggle-ui::after{ transform:translateX(18px); background:#ecfdf5; }
.cfg-strategy-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:10px; }
.bot{ display:flex; gap:8px; padding:10px; border-top:1px solid #233040; background:#0b1117; }
.tuning-feedback{ margin-left:auto; font-size:12px; color:#34d399; opacity:0; transition:opacity 0.2s ease; align-self:center; }
.tuning-feedback.visible{ opacity:1; }
.tuning-feedback[data-type="error"]{ color:#f87171; }

.tuning-body{ padding:18px; max-height:70vh; overflow:auto; background:#101826; display:flex; flex-direction:column; gap:16px; }
.tuning-section{ border:1px solid #1f2a38; border-radius:12px; padding:14px 16px; background:#0f151f; display:flex; flex-direction:column; gap:14px; }
.tuning-section.collapsed .tuning-content{ display:none; }
.tuning-head{ display:flex; align-items:flex-start; justify-content:space-between; gap:12px; cursor:pointer; }
.tuning-head h4{ margin:0; font-size:15px; color:#e6edf3; }
.tuning-head p{ margin:2px 0 0 0; font-size:12px; color:#94a3b8; max-width:520px; }
.tuning-head .tuning-actions{ display:flex; align-items:center; gap:8px; }
.tuning-head .tuning-arrow{ display:inline-flex; width:16px; justify-content:center; align-items:center; color:#94a3b8; font-size:12px; }
.tuning-heading{ display:flex; flex-direction:column; gap:6px; }
.tuning-heading-main{ display:flex; align-items:center; gap:10px; }
.rigidity-badge{ display:inline-flex; align-items:center; gap:6px; font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid rgba(148,163,184,0.25); background:rgba(148,163,184,0.15); color:#e0f2fe; }
.rigidity-badge::before{ content:""; width:8px; height:8px; border-radius:50%; background:var(--rigidity-color,#38bdf8); box-shadow:0 0 0 1px rgba(15,23,42,0.25); }
.opx-btn.ghost{ background:transparent; border-color:#233040; color:#93c5fd; }
.opx-btn.ghost:hover{ background:#132030; }
.tuning-content{ display:flex; flex-direction:column; gap:14px; }
.tuning-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:12px; }
.tuning-flags{ display:flex; flex-wrap:wrap; gap:12px; }
.tuning-empty{ font-size:12px; color:#94a3b8; }
.tuning-section.tuning-rigidity .tuning-head{ cursor:default; }
.rigidity-control{ display:flex; flex-direction:column; gap:10px; }
.rigidity-label{ display:flex; align-items:center; justify-content:space-between; font-size:12px; color:#cbd5e1; }
.rigidity-status{ display:flex; align-items:center; gap:8px; }
.rigidity-value{ font-weight:600; color:#93c5fd; font-size:13px; }
.rigidity-tag{ font-size:11px; padding:2px 8px; border-radius:999px; border:1px solid rgba(15,23,42,0.3); background:var(--rigidity-color,#1e293b); color:#f8fafc; }
.rigidity-tag.override{ color:#facc15; border-color:#5b450f; background:#2a1f0a; }
.rigidity-slider{ display:flex; align-items:center; gap:12px; }
.rigidity-slider input[type="range"]{ flex:1; accent-color:#1f7a4d; }
.rigidity-slider .opx-btn.disabled,
.rigidity-slider .opx-btn:disabled{ opacity:0.45; cursor:not-allowed; }
.rigidity-hint{ margin:0; font-size:11px; color:#64748b; }
.rigidity-legend{ display:flex; justify-content:space-between; gap:6px; font-size:11px; color:#cbd5e1; }
.rigidity-legend-item{ flex:1; text-align:center; padding:4px 6px; border-radius:999px; background:rgba(15,23,42,0.45); border:1px solid rgba(15,23,42,0.4); color:#e2e8f0; }
.rigidity-legend-item::before{ content:""; display:block; width:6px; height:6px; border-radius:50%; margin:0 auto 4px; background:var(--rigidity-color,#475569); }

/* análise detalhada */
#opx-analysis .analysis-list{ padding:14px; max-height:70vh; overflow:auto; background:#101826; }
#opx-debrief .analysis-list{ padding:14px; max-height:70vh; overflow:auto; background:#101826; }
.analysis-entry{ margin-bottom:12px; border:1px solid #1f2a38; border-radius:10px; background:#111a26; }
.analysis-entry summary{ cursor:pointer; padding:10px 14px; font-weight:600; color:#e6edf3; list-style:none; }
.analysis-entry summary::-webkit-details-marker{ display:none; }
.analysis-entry summary::marker{ display:none; }
.analysis-content{ padding:12px 14px 16px; display:flex; flex-direction:column; gap:16px; }
.analysis-section{ background:#0f151f; border:1px solid #1f2a38; border-radius:8px; padding:12px; }
.analysis-subtitle{ font-weight:600; margin-bottom:8px; color:#cbd5f5; font-size:13px; text-transform:uppercase; letter-spacing:0.5px; }
.analysis-metrics{ display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); gap:8px; }
.analysis-inline{ display:flex; flex-wrap:wrap; gap:8px; }
.metric .label{ display:block; font-size:11px; color:#94a3b8; text-transform:uppercase; letter-spacing:0.4px; }
.metric .value{ display:block; font-size:13px; color:#e6edf3; font-weight:600; }
.analysis-note{ font-size:12px; color:#60a5fa; margin-top:6px; }
.analysis-empty{ padding:12px; font-size:13px; color:#94a3b8; }
.analysis-strategy{ border:1px solid #1f2a38; border-radius:8px; padding:10px 12px; margin-bottom:10px; background:#0d131d; }
.analysis-strategy.active{ border-color:#1f7a4d; }
.analysis-strategy.waiting{ border-color:#3b4863; }
.analysis-strategy.blocked{ border-color:#8b3a3a; }
.analysis-strategy.disabled{ opacity:0.65; }
.strategy-head{ display:flex; align-items:center; gap:8px; margin-bottom:6px; }
.strategy-name{ font-weight:600; color:#e6edf3; }
.strategy-meta{ font-size:12px; color:#94a3b8; margin-bottom:4px; }
.strategy-status{ font-size:12px; color:#e0e7ff; margin-bottom:6px; }
.conditions{ list-style:none; margin:0; padding-left:0; font-size:12px; display:flex; flex-direction:column; gap:6px; }
.conditions li{ position:relative; padding-left:18px; display:flex; align-items:flex-start; gap:12px; }
.conditions li::before{ content:""; position:absolute; left:0; top:0.6em; width:8px; height:8px; border-radius:50%; background:#f8fafc; box-shadow:0 0 0 1px rgba(148,163,184,0.4); transform:translateY(-50%); }
.conditions .cond-label{ font-weight:600; display:block; color:#cbd5f5; }
#opx-active{ color:#facc15; font-size:12px; white-space:pre-wrap; word-break:break-word; max-width:100%; }
.conditions .cond-detail{ display:block; color:#a5b4fc; margin-left:0; }
.conditions li.pass{ color:#86efac; }
.conditions li.pass::before{ background:#facc15; box-shadow:0 0 0 1px rgba(234,179,8,0.45); }
.conditions li.fail{ color:#fca5a5; }
.conditions li.fail::before{ background:#f8fafc; box-shadow:0 0 0 1px rgba(148,163,184,0.5); }
.conditions li.disabled .cond-text{ opacity:0.65; }
.strategy-no-conditions{ font-size:12px; color:#94a3b8; }
.cond-text{ flex:1; display:flex; flex-direction:column; gap:2px; }
.cond-tag{ font-size:11px; color:#facc15; }
.cond-toggle{ position:relative; display:inline-flex; align-items:center; width:34px; height:18px; cursor:pointer; flex-shrink:0; }
.cond-toggle input{ position:absolute; opacity:0; width:0; height:0; }
.cond-toggle .toggle-ui{ width:34px; height:18px; background:#1f2a38; border-radius:999px; transition:background 0.2s ease; position:relative; box-shadow:inset 0 0 0 1px rgba(15,23,42,0.6); }
.cond-toggle .toggle-ui::after{ content:""; position:absolute; width:14px; height:14px; border-radius:50%; background:#cbd5f5; top:2px; left:2px; transition:transform 0.2s ease, background 0.2s ease; }
.cond-toggle input:checked + .toggle-ui{ background:#1f7a4d; box-shadow:inset 0 0 0 1px rgba(15,23,42,0.4); }
.cond-toggle input:checked + .toggle-ui::after{ transform:translateX(16px); background:#ecfdf5; }
.analysis-strategy.debrief{ border-color:#233040; }
.analysis-strategy.debrief .strategy-head{ margin-bottom:4px; }
.debrief-summary{ font-size:12px; color:#94a3b8; margin-bottom:6px; }

.detail-box{ max-width:960px; }
.detail-body{ padding:18px; max-height:70vh; overflow:auto; background:#101826; display:flex; flex-direction:column; gap:18px; }
.detail-section{ background:#0f151f; border:1px solid #1f2a38; border-radius:12px; padding:16px; display:flex; flex-direction:column; gap:12px; }
.detail-section h4{ margin:0; font-size:15px; color:#e6edf3; }
.detail-section p{ margin:0; color:#cbd5e1; font-size:13px; line-height:1.5; }
.detail-section ul{ margin:0; padding-left:18px; color:#cbd5e1; font-size:13px; display:flex; flex-direction:column; gap:6px; }
.detail-level-grid{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:16px; }
.detail-level{ background:#0e131b; border:1px solid rgba(56,189,248,0.15); border-radius:12px; padding:16px; display:flex; flex-direction:column; gap:12px; }
.detail-level-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.detail-level-badge{ display:inline-flex; align-items:center; justify-content:center; font-size:11px; font-weight:600; padding:2px 8px; border-radius:999px; background:var(--rigidity-color,#1d4ed8); color:#f8fafc; }
.detail-level-meta{ display:flex; flex-direction:column; gap:4px; }
.detail-level-name{ font-size:13px; font-weight:600; color:#e6edf3; }
.detail-level-value{ font-size:11px; color:#cbd5e1; text-transform:uppercase; }
.detail-level-notes{ margin:0; color:#cbd5e1; font-size:12px; line-height:1.45; }
.detail-level-list{ list-style:none; margin:0; padding-left:0; display:flex; flex-direction:column; gap:6px; font-size:12px; color:#94a3b8; }
.detail-level-list code{ background:#111c2a; padding:2px 6px; border-radius:6px; color:#93c5fd; }
.detail-level-params{ display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); gap:10px 14px; }
.detail-param{ background:#101a27; border:1px solid rgba(148,163,184,0.25); border-radius:8px; padding:10px 12px; display:flex; flex-direction:column; gap:4px; }
.detail-param code{ display:inline-block; font-size:11px; letter-spacing:0.02em; }
.detail-param .detail-param-label{ color:#93c5fd; font-weight:600; }
.detail-param .detail-param-value{ color:#f1f5f9; font-weight:500; }
@media (max-width: 920px){
  .detail-level-grid{ grid-template-columns:1fr; }
}
.detail-empty{ font-size:13px; color:#94a3b8; padding:12px; }
.debrief-section-title{ font-size:11px; color:#cbd5f5; text-transform:uppercase; letter-spacing:0.4px; margin:10px 0 6px; }
.debrief-trigger{ border:1px solid #233040; border-radius:8px; padding:10px 12px; margin-bottom:10px; background:#111a26; color:#e6edf3; font-size:12px; line-height:1.5; }
.debrief-trigger.waiting{ border-color:#3b4863; background:#121c2a; color:#cbd5f5; }
.debrief-trigger.ready{ border-color:rgba(52,211,153,0.45); background:#0f2a1e; color:#d1fae5; }
.debrief-trigger.executed{ border-color:rgba(52,211,153,0.7); background:#123020; color:#d1fae5; }
.debrief-trigger.blocked{ border-color:rgba(248,113,113,0.6); background:#2a1216; color:#fecaca; }
.debrief-trigger.disabled{ border-color:#374151; background:#1a2433; color:#cbd5f5; }
.debrief-trigger-status{ font-weight:600; margin-bottom:4px; }
.debrief-trigger-extra{ font-size:11px; color:#cbd5f5; margin-top:2px; }
.pill-chosen{ background:#1f7a4d; border-color:#1f7a4d; color:#d1fae5; }
.pill-relax{ background:#1f3d5d; border-color:#1f3d5d; color:#bfdbfe; }
.pill-block{ background:#5c1f2f; border-color:#5c1f2f; color:#fecaca; }
